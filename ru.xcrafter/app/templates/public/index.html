{% extends "base.html" %}

{% block content %}
<section class="catalog">
    <ul class="product-list">
        {% for product in products %}
        <div class="product-cont" data-id="{{ product.id }}" onclick="gotoCardItem(event, {{ product.id }})">
            <li class="product-item" style="background-image: url({{ product.photo }});">
                <div class="product-price">
                    <p>{{product.price}}</p>
                </div>
                <div class="product-more">
                    <div class="product-buy" onclick="buy({{ product }})">
                        <img src="static/img/Buy.svg">
                    </div>
                    <div class="visible-title"></div>
                    <a href="./item/{{ product.id }}" class="product-search">
                        <img src="static/img/Search.svg">
                    </a>
                </div>
            </li>
        </div>
        {% endfor %}
    </ul>
</section>
<div class="container m-auto modal-cart closed">
    <form>
        <a class="close-btn close-cart-btn"
           href="javascript:void(0)"></a>
        <h3 class="text text-center mb-3 mt-3">Оформление заказа</h3>
        <div class="form-row">
            <div class="form-group col-md-6">
                <div class="input-group mb-3">
                    <select class="custom-select"
                            id="delivery">
                        <option selected>Доставка</option>
                        <option value='delivery'>Самовывоз</option>
                        <option value='pickup_self' disabled="disabled">Доставка</option>
                    </select>
                </div>
                <div class="payment">
                    <select class="custom-select"
                            id="payment">
                        <option selected>Способ оплаты</option>
                        <option value='cash'>Наличные</option>
                        <option value='card' disabled="disabled">Оплатить банковской картой</option>
                    </select>
                </div>
                <h5 class="text text-center mb-3 mt-3">Основная информация</h5>
                <input type="text"
                       class="form-control mb-3"
                       id="firstname"
                       placeholder="Имя">
                <input type="text"
                       class="form-control mb-3"
                       id="lastname"
                       placeholder="Фамилия">
                <input type="telephone"
                       class="form-control mb-3"
                       id="tel"
                       placeholder="Телефон">
                <input type="text"
                       class="form-control mb-3"
                       id="address"
                       placeholder="Адрес">
                <input type="email"
                       class="form-control mb-3"
                       id="email"
                       placeholder="Email">
            </div>
            <div class="form-group col-md-6">
                <div class="container mb-3">
                    <h5 class="product-title text-center mb-3 mt-3">Корзина</h5>
                    <ul class="list-group list-group-flush mb-3">
                    </ul>
                </div>
                <button
                        class="clear-btn btn btn-dark float-right mb-3">Очистить корзину
                </button>
                <div class="input-group col-12 mb-3 mt-3">
                    <span class="input-group-text">Общая сумма:</span>
                    <input type="number" class="form-control" id="total-payment" disabled>
                    <span class="input-group-text">₽</span>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <button type="submit"
                    class="btn btn-dark btn-lg col-6 mb-3">Заказать
            </button>
        </div>
    </form>
</div>
<div id="login-form"
     class="login-form closed">
    <a class="close-button close-login-form-button"
       href="javascript:void(0)"></a>
    <section class="login-form-title">
        <a class="login-title visible-login-title" href="#0" onclick="openSignIn()" id="signin-title">Вход</a>
        <a class="login-title" href="#0" onclick="openSignUp()" id="signup-title">Регистрация</a>
        <a class="login-title recovery-title" href="#0" id="recovery-title">Восстановление пароля</a>
    </section>
    <div id="sign-in" class="sign-in">
        <form method="POST"
              action="/api/1/login"
              class="sign-list"
              id="sign-form"
              name="sign-form">
            <input type="email"
                   name="login"
                   class="form-item check-input"
                   placeholder="E-mail"
                   id="user-login"
                   minlength="5"
                   maxlength="100"
                   required>
            <input type="password"
                   name="password-sign"
                   placeholder="Пароль"
                   class="form-item check-input"
                   id="password-signin"
                   maxlength="100"
                   required>
            <button class="visible-password visible-login-password"
                    type="button"
                    onclick="showChangeRepeatPassword(this)">
                <img class="visible-password-img"
                     src="{{ url_for('static', filename='img/Eye.svg') }}">
            </button>
            <div class="form-item form-forget-password">
                <a onclick="openRecoveryPassword()">Не помню пароль</a>
            </div>
            <input type="submit"
                   value="Войти"
                   class="login-button"
                   id="signin-button">
        </form>
    </div>
    <div id="sign-up" class="sign-up">
        <form onsubmit="sendChangePassword(event)"
              class="sign-list"
              id="signup-form"
              name="signup-form">
            <input type="text"
                   name="firstName"
                   placeholder="Имя"
                   class="form-item check-input"
                   id="userName"
                   minlength="2"
                   maxlength="100"
                   required>
            <input type="text"
                   name="secondName"
                   placeholder="Фамилия"
                   class="form-item check-input"
                   id="userSurname"
                   minlength="2"
                   maxlength="100"
                   required>
            <input type="email"
                   name="email"
                   placeholder="E-mail"
                   class="form-item check-input"
                   id="userMail"
                   minlength="5"
                   maxlength="100"
                   required>
            <input type="tel"
                   name="phone"
                   placeholder="Телефон"
                   class="form-item check-input"
                   id="userPhone"
                   minlength="5"
                   maxlength="100"
                   required>
            <input type="password"
                   name="password"
                   placeholder="Пароль"
                   class="form-item check-input"
                   id="password"
                   maxlength="100"
                   minlength="6"
                   required>
            <input type="password"
                   name="repeatPassword"
                   placeholder="Повторите пароль"
                   class="form-item check-input"
                   id="repeatPassword"
                   maxlength="100"
                   minlength="6"
                   required>
            <button class="visible-password"
                    type="button"
                    onclick="showPassword(this)">
                <img class="visible-password-img"
                     src="{{ url_for('static', filename='img/Eye.svg') }}">
            </button>
            <button class="visible-password visible-repeat-password"
                    type="button"
                    onclick="showChangePassword(this)">
                <img class="visible-password-img"
                     src="{{ url_for('static', filename='img/Eye.svg') }}"></button>
            <label class="form-item form-agreement">
                <input type="checkbox"
                       name="agreement"
                       id="agreement"
                       checked
                       required>
                <p class="agreement-text">Я соглашаюсь на передачу персональных данных согласно <a
                        href="http://www.it-lex.ru/usloviya_ispolzovaniya_servisa/polzovatelskoe_soglashenie"
                        class="agreement-link">политике конфиденциальности</a> и <a
                        href="https://alltarget.ru/shablon-politiki-konfidencialnosti" class="agreement-link">пользовательскому
                    соглашению</a></p>
            </label>
            <input type="submit"
                   value="Зарегистрироваться"
                   class="login-button signup-button"
                   id="signup-button">
        </form>
    </div>
    <div id="recovery-form" class="recovery-form">
        <form method="POST"
              action="http://api/1/password-recovery"
              class="sign-list"
              id="recovery"
              name="recovery">
            <p class="recovery-text">Введите адрес электронной почты, который был привязан к аккаунту</p>
            <input type="email"
                   name="recovery-password"
                   placeholder="Email"
                   class="form-item recovery-item check-input"
                   id="recovery-password"
                   required>
            <input type="submit"
                   value="Продолжить"
                   class="login-button"
                   id="recovery-button">
        </form>
    </div>
</div>
{% endblock %}
